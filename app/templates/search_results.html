{% extends 'layout.html' %}
{% block title %}Search Results{% endblock %}
{% block content %}
    <h1>Search Results for "{{ query }}"</h1>
    {% if results %}
        <div class="results">
            {% for result in results %}
                <div class="result-item">
                    <h3>{{ result.filename }}</h3>
                    <p><strong>Document ID:</strong> {{ result.doc_id }}</p>
                    <p><strong>Relevance Score:</strong> {{ '%.3f' % result.score }}</p>
                    <p><strong>Snippet:</strong> {{ result.snippet | safe }}</p>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No results found for "{{ query }}".</p>
    {% endif %}
    <a href="{{ url_for('main.home') }}" class="btn">Back to Search</a>
    
    <style>
        .results {
            margin-top: 2rem;
        }
        .result-item {
            border: 1px solid #ddd;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        .result-item h3 {
            margin: 0 0 0.5rem 0;
        }
        .result-item p {
            margin: 0.5rem 0;
        }
    </style>
{% endblock %}